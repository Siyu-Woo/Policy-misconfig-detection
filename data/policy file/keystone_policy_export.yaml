# Keystone policy sample for admin/demo-project reader
#
# 请将下面的 ADMIN_PROJECT_ID / DEMO_PROJECT_ID 替换为实际的项目 ID。
#
# admin 在所有项目拥有权限；reader 在 demo-project 拥有所有 list 命令和 1 个设置命令，
# reader 在 admin 项目拥有所有 list 命令。

# openstack project list
"identity:list_projects": "role:admin or (role:reader and project_id:b5c386f2b477440ba83fc0ca0500c2bb) or (role:reader and project_id:938f3a5516bd40a68c730191901007e6)"

# openstack user list
"identity:list_users": "role:admin or (role:reader and project_id:b5c386f2b477440ba83fc0ca0500c2bb) or (role:reader and project_id:938f3a5516bd40a68c730191901007e6)"

# openstack role list
"identity:list_roles": "role:admin or (role:reader and project_id:b5c386f2b477440ba83fc0ca0500c2bb) or (role:reader and project_id:938f3a5516bd40a68c730191901007e6)"

# openstack service list
"identity:list_services": "role:admin or (role:reader and project_id:b5c386f2b477440ba83fc0ca0500c2bb) or (role:reader and project_id:938f3a5516bd40a68c730191901007e6)"

# openstack domain list
"identity:list_domains": "role:admin or (role:reader and project_id:Db5c386f2b477440ba83fc0ca0500c2bb) or (role:reader and project_id:938f3a5516bd40a68c730191901007e6)"

# 设置类命令（仅示例）
# openstack user set --email newmail@example.com --description "readerset member" member
"identity:update_user": "role:admin or (role:reader and project_id:b5c386f2b477440ba83fc0ca0500c2bb)"

# openstack project set --description "adminset proj" demo-project 
"identity:update_project": "role:admin"

# openstack role set --name <NEW_ROLE_NAME> <ROLE_ID_OR_NAME>
"identity:update_role": "role:admin"

# 说明：reader 在 demo-project 拥有所有 list 命令 + user 设置；reader 在 admin 项目仅有 list 命令；
# admin 在所有项目拥有上述 list 和设置命令的权限。
